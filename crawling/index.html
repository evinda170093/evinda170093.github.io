
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Summary of Web Mining contains: crawling, preprocessing, modeling and evaluation">
      
      
      
        <meta name="author" content="evindawidiacahyaningrum">
      
      
        <link rel="canonical" href="https://evinda170093.github.io/crawling/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.6">
    
    
      
        <title>Crawling - Evinda Summary</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.875de78c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
      <link rel="manifest" href="../manifest.json" crossorigin="use-credentials">
    
    
      <link rel="stylesheet" href="../assets/css/custom.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#apa_itu_web_crawling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Evinda Summary" class="md-header__button md-logo" aria-label="Evinda Summary" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Evinda Summary
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Crawling
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/evinda170093/evinda170093.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Evinda Summary" class="md-nav__button md-logo" aria-label="Evinda Summary" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Evinda Summary
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/evinda170093/evinda170093.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Summary of Web-Mining
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Crawling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Crawling
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#apa_itu_web_crawling" class="md-nav__link">
    Apa itu Web Crawling?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategi_web_crawling" class="md-nav__link">
    Strategi web crawling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#membangun_web_crawler_sederhana_dengan_python_dari_awal" class="md-nav__link">
    Membangun web crawler sederhana dengan Python dari awal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library_yang_dibutuhkan" class="md-nav__link">
    Library yang dibutuhkan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function_get_news" class="md-nav__link">
    Function get news
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function_clean" class="md-nav__link">
    Function Clean
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../text-preprocessing/" class="md-nav__link">
        Text Preprocessing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../modelling/" class="md-nav__link">
        Modelling
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/" class="md-nav__link">
        Evaluation
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#apa_itu_web_crawling" class="md-nav__link">
    Apa itu Web Crawling?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategi_web_crawling" class="md-nav__link">
    Strategi web crawling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#membangun_web_crawler_sederhana_dengan_python_dari_awal" class="md-nav__link">
    Membangun web crawler sederhana dengan Python dari awal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library_yang_dibutuhkan" class="md-nav__link">
    Library yang dibutuhkan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function_get_news" class="md-nav__link">
    Function get news
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function_clean" class="md-nav__link">
    Function Clean
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/evinda170093/evinda170093.github.io/edit/master/docs/crawling.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Crawling</h1>
                
                <p><img alt="crawling.png" src="https://blog.apify.com/content/images/max/1132/1-YfeP5WFbn0MwI76kuTM38w.png" /></p>
<h2 id="apa_itu_web_crawling">Apa itu Web Crawling?<a class="headerlink" href="#apa_itu_web_crawling" title="Permanent link">&para;</a></h2>
<p>Web scraping sering disebut web crawling atau web spidering atau "secara terprogram menelusuri kumpulan halaman web dan mengekstraksi data," adalah alat yang ampuh untuk bekerja dengan data di web.</p>
<p>Namun web crawling dan web scraping adalah dua konsep yang berbeda tetapi terkait. Web crawling adalah komponen scraping web, logika crawling menemukan URL untuk diproses oleh kode scraping.</p>
<p>Web crawling dimulai dengan daftar URL untuk dikunjungi, yang disebut seed. Untuk setiap URL, crawling menemukan tautan dalam HTML, memfilter tautan tersebut berdasarkan beberapa kriteria dan menambahkan tautan baru ke antrean. Semua HTML atau beberapa informasi spesifik diekstraksi untuk diproses oleh saluran yang berbeda.</p>
<p>Dengan web scraping, kita dapat menambang data tentang sekumpulan produk, mendapatkan kumpulan teks atau data kuantitatif yang besar untuk dimainkan, mendapatkan data dari situs tanpa API resmi, atau hanya memuaskan rasa ingin tahu pribadi.</p>
<p>Dalam tutorial ini, Anda akan belajar tentang dasar-dasar proses crawling saat menjelajahi kumpulan data</p>
<h2 id="strategi_web_crawling">Strategi web crawling<a class="headerlink" href="#strategi_web_crawling" title="Permanent link">&para;</a></h2>
<p>Dalam praktiknya, web crawling hanya mengunjungi sebagian halaman bergantung pada crawler budget, yang dapat berupa jumlah halaman maksimum per domain, kedalaman (depth), atau waktu eksekusi (execution time).</p>
<p>Situs web paling populer menyediakan file robots.txt untuk menunjukkan area situs web mana yang tidak boleh dirayapi oleh setiap agen pengguna. Kebalikan dari file robots adalah file sitemap.xml, yang berisi daftar halaman yang dapat di crawling.</p>
<p>Kasus penggunaan web crawler yang populer meliputi:</p>
<ul>
<li>Search engines (Googlebot, Bingbot, Yandex Bot…) mengumpulkan semua HTML untuk bagian penting dari Web. Data ini diindeks untuk membuatnya dapat dicari.</li>
<li>Alat analisis SEO selain mengumpulkan HTML juga mengumpulkan metadata seperti waktu respons (response time), status respons (response status) untuk mendeteksi halaman yang rusak, dan tautan antara domain yang berbeda untuk mengumpulkan tautan balik.</li>
<li>Alat pemantau harga crawl e-commerce websites untuk menemukan halaman produk dan mengekstrak metadata, terutama harganya. Halaman produk kemudian ditinjau kembali secara berkala.</li>
<li>Common Crawl memelihara repositori terbuka dari data perayapan web . Misalnya, arsip dari Oktober 2020 berisi 2,71 miliar halaman web.</li>
</ul>
<p>Selanjutnya, kita akan membandingkan tiga strategi berbeda untuk membangun web crawler dengan Python. Pertama, hanya menggunakan library standar, lalu library pihak ketiga untuk membuat permintaan HTTP dan mem-parsing HTML, dan terakhir, kerangka kerja perayapan web</p>
<h2 id="membangun_web_crawler_sederhana_dengan_python_dari_awal">Membangun web crawler sederhana dengan Python dari awal<a class="headerlink" href="#membangun_web_crawler_sederhana_dengan_python_dari_awal" title="Permanent link">&para;</a></h2>
<p>Untuk membangun web crawler sederhana dengan Python, kita memerlukan setidaknya satu library untuk mengunduh HTML dari URL dan library parsing HTML untuk mengekstrak links. Python menyediakan urllib library standar untuk membuat permintaan HTTP dan html.parser untuk mem -parsing HTML. Contoh crawler Python yang dibuat hanya dengan library standar dapat ditemukan di Github.</p>
<p>Library Python standar untuk request dan patsing HTML tidak terlalu ramah pengembang. Libary populer lainnya seperti request , dicap sebagai HTTP untuk manusia, dan Beautiful Soup memberikan pengalaman pengembang yang lebih baik. Kita dapat menginstal dua library secara lokal.</p>
<p>Disini kita akan melakukan crawling berita pada website CNN Indonesia</p>
<div class="codehilite"><pre><span></span><code><span class="n">pip</span> <span class="n">install</span> <span class="n">requests</span> <span class="n">bs4</span>
</code></pre></div>

<p>Crawler dasar dapat dibangun mengikuti diagram arsitektur sebelumnya.</p>
<h2 id="library_yang_dibutuhkan">Library yang dibutuhkan<a class="headerlink" href="#library_yang_dibutuhkan" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>
</code></pre></div>

<h2 id="function_get_news">Function get news<a class="headerlink" href="#function_get_news" title="Permanent link">&para;</a></h2>
<p>Untuk mendapatkan data berita dari website yang akan kita crawling, buat sebuah function untuk melakukan web crawler.</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_news_cnn</span><span class="p">():</span>
    <span class="c1"># url definition</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.cnnindonesia.com/teknologi/indeks/8&quot;</span>
    <span class="c1"># Request</span>
    <span class="n">r1</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">r1</span><span class="o">.</span><span class="n">status_code</span>
    <span class="c1"># We&#39;ll save in coverpage the cover page content</span>
    <span class="n">coverpage</span> <span class="o">=</span> <span class="n">r1</span><span class="o">.</span><span class="n">content</span>
    <span class="c1"># Soup creation</span>
    <span class="n">soup1</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">coverpage</span><span class="p">,</span> <span class="s1">&#39;html5lib&#39;</span><span class="p">)</span>
    <span class="c1"># News identification</span>
    <span class="n">coverpage_news</span> <span class="o">=</span> <span class="n">soup1</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;list media_rows middle&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">arti_i</span> <span class="ow">in</span> <span class="n">coverpage_news</span><span class="p">:</span>
        <span class="n">arti</span> <span class="o">=</span> <span class="n">arti_i</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;article&#39;</span><span class="p">)</span>
        <span class="c1">#print(len(arti))</span>
    <span class="n">number_of_articles</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="c1"># Empty lists for content, links and titles</span>
    <span class="n">news_contents</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">list_links</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">list_titles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">number_of_articles</span><span class="p">):</span>
        <span class="c1"># Getting the link of the article</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">arti</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
        <span class="n">list_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>

        <span class="c1"># Getting the title</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">arti</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">list_titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>

        <span class="c1"># Reading the content (it is divided in paragraphs)</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
        <span class="n">article_content</span> <span class="o">=</span> <span class="n">article</span><span class="o">.</span><span class="n">content</span>
        <span class="n">soup_article</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">article_content</span><span class="p">,</span> <span class="s1">&#39;html5lib&#39;</span><span class="p">)</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">soup_article</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;detail_text&#39;</span><span class="p">)</span>

        <span class="c1"># Unifying the paragraphs</span>
        <span class="n">list_paragraphs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">final_article</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pg</span> <span class="ow">in</span> <span class="n">body</span><span class="p">:</span>
            <span class="n">get_paragraph</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
            <span class="c1">#print(get_paragraph)</span>
            <span class="c1">#print(len(get_paragraph))</span>

        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">get_paragraph</span><span class="p">)):</span>
            <span class="n">paragraph</span> <span class="o">=</span> <span class="n">get_paragraph</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
            <span class="n">clean_paragraph</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">paragraph</span><span class="p">)</span>
            <span class="n">list_paragraphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean_paragraph</span><span class="p">)</span>
            <span class="n">final_article</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">list_paragraphs</span><span class="p">)</span>

        <span class="c1"># Removing special characters</span>
        <span class="n">final_article</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">xa0&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">final_article</span><span class="p">)</span>
        <span class="n">news_contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">final_article</span><span class="p">)</span>
</code></pre></div>

<p>Kode di atas mendefinisikan kelas Crawler dengan hepler method untuk mendownload_url menggunakan library request, get_linked_urls menggunakan library Beautiful Soup. Kita dapat menjalankan crawler di terminal.</p>
<p>Salah satu metode HTTP yang paling umum adalah GET. The GETmetode menunjukkan bahwa Anda sedang berusaha untuk mendapatkan atau mengambil data dari sumber tertentu. Untuk membuat GETpermintaan, panggil requests.get().</p>
<p>Untuk mengujinya, kita dapat membuat GETrequest ke alamat website CNN dengan memanggil get() URL berikut:</p>
<div class="codehilite"><pre><span></span><code><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.cnnindonesia.com/teknologi/indeks/8&quot;</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>

<p>Informasi pertama yang dapat kita kumpulkan adalah status code. Kode status memberi tahu kita tentang status permintaan.</p>
<p>Misalnya, 200 OK status berarti permintaan Anda berhasil, sedangkan 404 NOT FOUNDstatus berarti sumber daya yang kita cari tidak ditemukan.
Dengan mengakses .status_code, kita dapat melihat kode status yang dikembalikan server:</p>
<div class="codehilite"><pre><span></span><code><span class="n">r1</span><span class="o">.</span><span class="n">status_code</span>
</code></pre></div>

<p>Untuk mendapatkan konten dari website kita perlu menyimpan body html yang kita crawling dengan .content :</p>
<div class="codehilite"><pre><span></span><code><span class="n">coverpage</span> <span class="o">=</span> <span class="n">r1</span><span class="o">.</span><span class="n">content</span>
</code></pre></div>

<p>Hal yang sangat menyenangkan tentang library BeautifulSoup adalah ia dibangun di atas library parsing HTML seperti html5lib, lxml, html.parser, dll. Jadi objek BeautifulSoup dan menentukan library parser dapat dibuat pada saat yang bersamaan.</p>
<div class="codehilite"><pre><span></span><code><span class="n">soup1</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">coverpage</span><span class="p">,</span> <span class="s1">&#39;html5lib&#39;</span><span class="p">)</span>
</code></pre></div>

<p>kita membuat objek Beautiful Soup dengan melewatkan dua argumen</p>
<ol>
<li>page.content (coverpage): Ini adalah konten html asli</li>
<li>html5lib: Menentukan parser html yang ingin kita gunakan</li>
</ol>
<p>Untuk mencari seluruh tag &lt; div &gt; dengan class list media_rows middle dimana didalamnya terdapat beberapa kumpulan berita yang terdapat pada tag &lt; article &gt; dengan batasan untuk 3 berita saja, num_of_articles = 3</p>
<div class="codehilite"><pre><span></span><code><span class="n">coverpage_news</span> <span class="o">=</span> <span class="n">soup1</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;list media_rows middle&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">arti_i</span> <span class="ow">in</span> <span class="n">coverpage_news</span><span class="p">:</span>
        <span class="n">arti</span> <span class="o">=</span> <span class="n">arti_i</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;article&#39;</span><span class="p">)</span>
        <span class="c1">#print(len(arti))</span>
    <span class="n">number_of_articles</span> <span class="o">=</span> <span class="mi">3</span>
</code></pre></div>

<p>Untuk mendapatkan seluruh paragraf atau kalimat yang terdapat pada berita maka digunakan code dibawah ini</p>
<div class="codehilite"><pre><span></span><code><span class="n">news_contents</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">list_links</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">list_titles</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">number_of_articles</span><span class="p">):</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">arti</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
    <span class="n">list_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">arti</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
    <span class="n">list_titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>

    <span class="n">article</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
    <span class="n">article_content</span> <span class="o">=</span> <span class="n">article</span><span class="o">.</span><span class="n">content</span>
    <span class="n">soup_article</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">article_content</span><span class="p">,</span> <span class="s1">&#39;html5lib&#39;</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">soup_article</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;detail_text&#39;</span><span class="p">)</span>

    <span class="n">list_paragraphs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">final_article</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">pg</span> <span class="ow">in</span> <span class="n">body</span><span class="p">:</span>
        <span class="n">get_paragraph</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Dimana yang akan diambil adalah link, title dan isi berita, link diambil dari tag &lt; a &gt; dan title diambil dari tag &lt; h2 &gt; dan untuk isi berita diambil dari tag &lt; p &gt; </p>
<h2 id="function_clean">Function Clean<a class="headerlink" href="#function_clean" title="Permanent link">&para;</a></h2>
<p>Code diatas menghasilkan text dengan tulisan \n dan \t yang dika diartikan adalah tab dan enter dimana hal tersebut dihilangkan dengan code berikut :</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="c1">#string =  re.sub(r&quot;[^a-zA-Z0-9]+&quot;, &#39; &#39;, string)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">arrString</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div>

<p>Dan digunakan atau dipanggil pada code dibawah ini untuk menghilangkan tab dan enter pada setiap paragraf dari berita</p>
<div class="codehilite"><pre><span></span><code><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">get_paragraph</span><span class="p">)):</span>
    <span class="n">paragraph</span> <span class="o">=</span> <span class="n">get_paragraph</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
    <span class="n">clean_paragraph</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">paragraph</span><span class="p">)</span>
    <span class="n">list_paragraphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean_paragraph</span><span class="p">)</span>
    <span class="n">final_article</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">list_paragraphs</span><span class="p">)</span>
</code></pre></div>

<p>Terkadang text yang diambil dari hasil crawler tidak begitu bagus, masih terdapat banyak sekali simbol atau special character yang tidak dibutuhkan sehingga disini perlu adanya proses cleansing untuk menghilangkan special character yang mengganggu text.</p>
<div class="codehilite"><pre><span></span><code><span class="n">final_article</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">xa0&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">final_article</span><span class="p">)</span>
<span class="n">news_contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">final_article</span><span class="p">)</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href=".." class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Summary of Web-Mining
            </div>
          </div>
        </a>
      
      
        <a href="../text-preprocessing/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Text Preprocessing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2021 evindawidia
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/evindawidia" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://instagram.com/evindawidiacahya" target="_blank" rel="noopener" title="instagram.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.34eae1b6.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>